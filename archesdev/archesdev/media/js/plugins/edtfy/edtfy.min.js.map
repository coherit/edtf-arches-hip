{"version":3,"sources":["edtfy.js"],"names":["f","exports","module","define","amd","g","window","global","self","this","edtfy","e","t","n","r","s","o","u","a","require","i","Error","code","l","call","length",1,"_dereq_","locale","parser","fr","en","i18n","string","localeData","months","forEach","month","replace","RegExp","seasons","season","century","around","between1","between2","and","or","unknown","open","before","after","days","console","log","options","trim","toLowerCase","result","format","parse","newLocale","./locales/en","./locales/fr","./tmp/edtfy.js",2,3,4,"peg$subclass","child","parent","ctor","constructor","prototype","peg$SyntaxError","message","expected","found","location","name","captureStackTrace","peg$parse","input","peg$computePosDetails","pos","p","ch","details","peg$posDetailsCache","line","column","seenCR","charAt","peg$computeLocation","startPos","endPos","startPosDetails","endPosDetails","start","offset","end","peg$fail","peg$maxFailPos","peg$currPos","peg$maxFailExpected","push","peg$buildException","cleanupExpected","sort","b","description","splice","buildMessage","stringEscape","hex","charCodeAt","toString","toUpperCase","expectedDesc","foundDesc","expectedDescs","Array","slice","join","peg$decode","bc","peg$parseRule","index","params","peg$bytecode","ip","ips","ends","stack","peg$consts","peg$FAILED","pop","substring","substr","test","peg$silentFails","peg$savedPos","apply","validateDate","date","day","parts","split","year","toInt","isNaN","cal","peg$result","arguments","peg$startRuleIndices","peg$startRuleIndex","type","value","d","date1","date2","m","q","md","y","my","concat","parseInt","deromanize","startRule","str","validator","token","key","M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I","num","exec",5,6,7,8,9,10,11,12,"Number","NaN","SyntaxError"],"mappings":"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","file":"edtfy.min.js","sourcesContent":["(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.edtfy = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(_dereq_,module,exports){\n(function() {\n\nvar locale = 'en';\n\nvar parser = _dereq_('./tmp/edtfy.js');\n\nvar fr = _dereq_('./locales/fr');\nvar en = _dereq_('./locales/en');\n\nvar i18n = function(string, localeData) {\n  localeData.months.forEach(function(month, i){\n    i++;\n    i = i >9 ? i : '0' + i;\n    string = string.replace(new RegExp('\\\\b' + month + '\\\\b', 'g'), 'M' + i);\n  });\n  localeData.seasons.forEach(function(season, i){\n    i++;\n    i = '2' + i;\n    string = string.replace(new RegExp('\\\\b' + season + '\\\\b', 'g'), 'S' + i);\n  });\n  string = string.replace(new RegExp('\\\\b' + localeData.century + '\\\\b', 'g'), 'C');\n  string = string.replace(new RegExp('\\\\b' + localeData.around + '\\\\b', 'g'), '~');\n  string = string.replace(new RegExp('\\\\b' + localeData.between1 + '\\\\b', 'g'), 'B1');\n  string = string.replace(new RegExp('\\\\b' + localeData.between2 + '\\\\b', 'g'), 'B2');\n  string = string.replace(new RegExp('\\\\b' + localeData.and + '\\\\b', 'g'), 'A');\n  string = string.replace(new RegExp('\\\\b' + localeData.or + '\\\\b', 'g'), 'O');\n  string = string.replace(new RegExp('\\\\b' + localeData.unknown + '\\\\b', 'g'), 'U');\n  string = string.replace(new RegExp('\\\\b' + localeData.open + '\\\\b', 'g'), 'OP');\n  string = string.replace(new RegExp('\\\\b' + localeData.before + '\\\\b', 'g'), 'BF');\n  string = string.replace(new RegExp('\\\\b' + localeData.after + '\\\\b', 'g'), 'AF');\n  string = string.replace(new RegExp('\\\\b' + localeData.days + '\\\\b', 'g'), '');\n  console.log(string);\n  return string;\n};\n\nmodule.exports = function(string, options) {\n  options = options || {};\n  options.locale = options.locale || locale;\n  var localeData = options.locale === 'en' ? en : fr;\n  string = string.trim()\n    .toLowerCase()\n    .replace(/ +/g, ' ')\n    .replace(/[,.]/g, '')\n    .replace(/[àáâãäå]/g,\"a\")\n    .replace(/ç/g,\"c\")\n    .replace(/[èéêë]/g,\"e\")\n    .replace(/[ìíîï]/g,\"i\")\n    .replace(/[òóôõö]/g,\"o\")\n    .replace(/[ùúûü]/g,\"u\")\n    .replace(/[ýÿ]/g,\"y\")\n    .replace(/\\ble\\b/g, '').replace(/\\ben\\b\\s*(\\d)/g, '$1').replace(/\\bl'\\b/g, '').replace(/\\bl'an\\b/g, '')\n    .replace(/(\\d+)\\s?eme\\b/g, '$1').replace(/(\\d+)\\s?er\\b/g, '$1').replace(/(\\d+)\\s?e\\b/g, '$1')\n    .replace(/\\bthe\\b/g, '').replace(/\\bin\\b/g, '')\n    .replace(/(\\d+)\\s?st\\b/g, '$1').replace(/(\\d+)\\s?nd\\b/g, '$1').replace(/(\\d+)\\s?rd\\b/g, '$1').replace(/(\\d+)\\s?th\\b/g, '$1')\n    .replace(/ +/g, ' ');\n    string = i18n(string, localeData).trim()\n    .replace(/([ivxlcdm]+)\\s?eme C/g, '$1 C').replace(/([ivxlcdm]+)\\s?er C/g, '$1 C').replace(/([ivxlcdm]+)\\s?e C/g, '$1 C')\n    .replace(/([ivxlcdm]+)\\s?st C/g, '$1 C').replace(/([ivxlcdm]+)\\s?nd C/g, '$1 C').replace(/([ivxlcdm]+)\\s?rd C/g, '$1 C').replace(/([ivxlcdm]+)\\s?th C/g, '$1 C');\n  var result;\n  localeData.format.forEach(function(format, i) {\n    try {\n      if (!result) {\n        result = parser.parse(string, {format: format});\n      }\n    } catch (e) {\n      if (i === localeData.format.length - 1) {\n        throw e;\n      }\n    }\n  });\n  return result;\n}\n\nmodule.exports.locale = function(newLocale) {\n  if (newLocale) {\n    locale = newLocale;\n  } else {\n    return locale;\n  }\n}\n\n})();\n\n},{\"./locales/en\":2,\"./locales/fr\":3,\"./tmp/edtfy.js\":4}],2:[function(_dereq_,module,exports){\n\nmodule.exports = {\n  days: 'monday|mon|tuesday|tue|wednesday|wed|thursday|thu|friday|fri|saturday|sat|sunday|sun',\n  months: [\n    'january|jan', 'february|feb', 'march|mar', 'april|apr',\n    'may', 'june|jun', 'july|jul', 'august|aug',\n    'september|sep', 'october|oct', 'november|nov', 'december|dec'\n  ],\n  seasons: ['spring', 'summer', 'autumn|fall', 'winter'],\n  century: 'century',\n  format: ['mdy', 'dmy'],\n  around: 'around|about|abt|close to',\n  between1: 'between|bet|from',\n  between2: 'to',\n  and: 'and',\n  or: 'or',\n  unknown: 'unknown|ukn',\n  open: 'open',\n  before: 'before|bef',\n  after: 'after|aft'\n};\n\n},{}],3:[function(_dereq_,module,exports){\n\nmodule.exports = {\n  days: 'lundi|lun|mardi|mar|mercredi|mer|jeudi|jeu|vendredi|ven|samedi|sam|dimanche|dim',\n  months: [\n    'janvier|jan', 'fevrier|fev', 'mars|mar', 'avril|avr',\n    'mai', 'juin|jun|jui', 'juillet|jul|juil', 'aout|aou',\n    'septembre|sep', 'octobre|oct', 'novembre|nov', 'decembre|dec'\n  ],\n  seasons: ['printemps', 'ete', 'automne', 'hiver'],\n  century: 'siecle',\n  format: ['dmy'],\n  around: 'vers|environ|env|autour de',\n  between1: 'entre|du|de',\n  between2: 'au|a',\n  and: 'et',\n  or: 'ou',\n  unknown: 'inconnue?',\n  open: 'en cours',\n  before: 'avant|avt',\n  after: 'apres|apr'\n};\n\n},{}],4:[function(_dereq_,module,exports){\nmodule.exports = (function() {\n  \"use strict\";\n\n  /*\n   * Generated by PEG.js 0.9.0.\n   *\n   * http://pegjs.org/\n   */\n\n  function peg$subclass(child, parent) {\n    function ctor() { this.constructor = child; }\n    ctor.prototype = parent.prototype;\n    child.prototype = new ctor();\n  }\n\n  function peg$SyntaxError(message, expected, found, location) {\n    this.message  = message;\n    this.expected = expected;\n    this.found    = found;\n    this.location = location;\n    this.name     = \"SyntaxError\";\n\n    if (typeof Error.captureStackTrace === \"function\") {\n      Error.captureStackTrace(this, peg$SyntaxError);\n    }\n  }\n\n  peg$subclass(peg$SyntaxError, Error);\n\n  function peg$parse(input) {\n    var options = arguments.length > 1 ? arguments[1] : {},\n        parser  = this,\n\n        peg$FAILED = {},\n\n        peg$startRuleIndices = { start: 0 },\n        peg$startRuleIndex   = 0,\n\n        peg$consts = [\n          \"~\",\n          { type: \"literal\", value: \"~\", description: \"\\\"~\\\"\" },\n          \" \",\n          { type: \"literal\", value: \" \", description: \"\\\" \\\"\" },\n          function(d) {\n                return d + '~'\n              },\n          \"B1 \",\n          { type: \"literal\", value: \"B1 \", description: \"\\\"B1 \\\"\" },\n          \" B2 \",\n          { type: \"literal\", value: \" B2 \", description: \"\\\" B2 \\\"\" },\n          \" A \",\n          { type: \"literal\", value: \" A \", description: \"\\\" A \\\"\" },\n          function(date1, date2) {\n                return date1 + '/' + date2\n              },\n          \"-\",\n          { type: \"literal\", value: \"-\", description: \"\\\"-\\\"\" },\n          \" / \",\n          { type: \"literal\", value: \" / \", description: \"\\\" / \\\"\" },\n          \" O \",\n          { type: \"literal\", value: \" O \", description: \"\\\" O \\\"\" },\n          function(date1, date2) {\n                var year = date2.split('-')[0]\n                var month = date2.split('-')[1]\n                return '[' + year + '-' + month + '-' + date1 + ',' + date2 + ']'\n              },\n          function(date1, date2) {\n                var year = date2.split('-')[0]\n                return '[' + year + '-' + date1.m + '-' + date1.d + ',' + date2 + ']'\n              },\n          function(date1, date2) {\n                return '[' + date2[2] + '-' + date1 + ',' + date2[2] + '-' + date2[0] + ']'\n              },\n          function(date1, d) { return d },\n          function(date1, date2) {\n                return '[' + date1 + ',' + date2 + ']'\n              },\n          function(date1) {\n                return '[..,' + date1 + ']'\n              },\n          function(date1) {\n                return '[' + date1 + ',..]'\n              },\n          function(date1, date2) {\n                var year = date2.split('-')[0]\n                var month = date2.split('-')[1]\n                return '{' + year + '-' + month + '-' + date1 + ',' + date2 + '}'\n              },\n          function(date1, date2) {\n                var year = date2.split('-')[0]\n                return '{' + year + '-' + date1.m + '-' + date1.d + ',' + date2 + '}'\n              },\n          function(date1, date2) {\n                return '{' + date2[2] + '-' + date1 + ',' + date2[2] + '-' + date2[0] + '}'\n              },\n          function(date1, date2) {\n                return '{' + date1 + ',' + date2 + '}'\n              },\n          \"?\",\n          { type: \"literal\", value: \"?\", description: \"\\\"?\\\"\" },\n          function(d, q) {\n              validateDate(d);\n              d = q ? d + '?' : d;\n              return d;\n            },\n          function() { return options.format === 'mdy' },\n          function(d) { return d; },\n          function() { return options.format === 'dmy' },\n          \"/\",\n          { type: \"literal\", value: \"/\", description: \"\\\"/\\\"\" },\n          function(m, d) {\n            return m[0] + '-' + d\n          },\n          function(md, y) { return y + '-' + md },\n          function(d, m) {\n            return {d:d, m:m[1]}\n          },\n          function(d, my) { return my + '-' + d },\n          function(m, y) { return y + '-' + m },\n          function(s, y) {\n            if(s){\n              y = '-' + y\n            }\n            if(!s && y.length > 4 || s && y.length > 5){\n              y = 'y' + y\n            }\n            return y\n          },\n          function(d, u) {\n           var a = d || [];\n           return a.concat(u).join('')\n          },\n          \"M\",\n          { type: \"literal\", value: \"M\", description: \"\\\"M\\\"\" },\n          function(m) { return m },\n          \"S\",\n          { type: \"literal\", value: \"S\", description: \"\\\"S\\\"\" },\n          function(s) { return s },\n          \" C\",\n          { type: \"literal\", value: \" C\", description: \"\\\" C\\\"\" },\n          function(d) { return parseInt(d.join(''), 10) - 1 + 'xx' },\n          function(r) { return parseInt(deromanize(r.join('')), 10) - 1 + 'xx' },\n          function(s, y) { return y + '-' + s },\n          function(a, b) { return a + b;},\n          function(a, b) { return a + b; },\n          function(d) {return '0' + d},\n          \"u\",\n          { type: \"literal\", value: \"u\", description: \"\\\"u\\\"\" },\n          function() { return 'uu' },\n          \"*\",\n          { type: \"literal\", value: \"*\", description: \"\\\"*\\\"\" },\n          \"x\",\n          { type: \"literal\", value: \"x\", description: \"\\\"x\\\"\" },\n          function() { return 'xx' },\n          /^[0-9]/,\n          { type: \"class\", value: \"[0-9]\", description: \"[0-9]\" },\n          /^[a-z]/,\n          { type: \"class\", value: \"[a-z]\", description: \"[a-z]\" },\n          function() { return 'u' },\n          /^[0-1]/,\n          { type: \"class\", value: \"[0-1]\", description: \"[0-1]\" },\n          /^[0-3]/,\n          { type: \"class\", value: \"[0-3]\", description: \"[0-3]\" },\n          \"U\",\n          { type: \"literal\", value: \"U\", description: \"\\\"U\\\"\" },\n          function() { return 'unknown' },\n          \"OP\",\n          { type: \"literal\", value: \"OP\", description: \"\\\"OP\\\"\" },\n          function() { return 'open' },\n          /^[ivxlcdm]/,\n          { type: \"class\", value: \"[ivxlcdm]\", description: \"[ivxlcdm]\" },\n          \"BF \",\n          { type: \"literal\", value: \"BF \", description: \"\\\"BF \\\"\" },\n          \"AF \",\n          { type: \"literal\", value: \"AF \", description: \"\\\"AF \\\"\" }\n        ],\n\n        peg$bytecode = [\n          peg$decode(\";\\\".5 &;!./ &;#.) &;$.# &;%\"),\n          peg$decode(\"%2 \\\"\\\"6 7!/E#2\\\"\\\"\\\"6\\\"7#.\\\" &\\\"/1$;%/($8#:$#! )(#'#(\\\"'#&'#\"),\n          peg$decode(\"%2%\\\"\\\"6%7&/\\\\#;%/S$2'\\\"\\\"6'7(.) &2)\\\"\\\"6)7*/8$;<.# &;%/)$8$:+$\\\"\\\" )($'#(#'#(\\\"'#&'#.\\xF5 &%2%\\\"\\\"6%7&.\\\" &\\\"/P#;%/G$2'\\\"\\\"6'7(/8$;<.# &;%/)$8$:+$\\\"\\\" )($'#(#'#(\\\"'#&'#.\\xAD &%;%/o#2\\\"\\\"\\\"6\\\"7#.\\\" &\\\"/[$2,\\\"\\\"6,7-/L$2\\\"\\\"\\\"6\\\"7#.\\\" &\\\"/8$;<.# &;%/)$8%:+%\\\"$ )(%'#($'#(#'#(\\\"'#&'#.Q &%;%/G#2.\\\"\\\"6.7//8$;<.# &;%/)$8#:+#\\\"\\\" )(#'#(\\\"'#&'#\"),\n          peg$decode(\"%;4/A#20\\\"\\\"6071/2$;%/)$8#:2#\\\"\\\" )(#'#(\\\"'#&'#.\\u016E &%;*/A#20\\\"\\\"6071/2$;%/)$8#:3#\\\"\\\" )(#'#(\\\"'#&'#.\\u0140 &%;0/v#20\\\"\\\"6071/g$%;0/N#$2\\\"\\\"\\\"6\\\"7#/,#0)*2\\\"\\\"\\\"6\\\"7#&&&#/,$;-/#$+#)(#'#(\\\"'#&'#/)$8#:4#\\\"\\\" )(#'#(\\\"'#&'#.\\xDD &%;%/}#$%20\\\"\\\"6071/2#;%/)$8\\\":5\\\"\\\"$ )(\\\"'#&'#/E#0B*%20\\\"\\\"6071/2#;%/)$8\\\":5\\\"\\\"$ )(\\\"'#&'#&&&#/)$8\\\":6\\\"\\\"! )(\\\"'#&'#.s &%$;>/&#0#*;>&&&#/1#;%/($8\\\":7\\\"! )(\\\"'#&'#.H &%$;?/&#0#*;?&&&#/1#;%/($8\\\":8\\\"! )(\\\"'#&'#\"),\n          peg$decode(\"%;4/A#2)\\\"\\\"6)7*/2$;%/)$8#:9#\\\"\\\" )(#'#(\\\"'#&'#.\\u0118 &%;*/A#2)\\\"\\\"6)7*/2$;%/)$8#::#\\\"\\\" )(#'#(\\\"'#&'#.\\xEA &%;0/v#2)\\\"\\\"6)7*/g$%;0/N#$2\\\"\\\"\\\"6\\\"7#/,#0)*2\\\"\\\"\\\"6\\\"7#&&&#/,$;-/#$+#)(#'#(\\\"'#&'#/)$8#:;#\\\"\\\" )(#'#(\\\"'#&'#.\\x87 &%;%/}#$%2)\\\"\\\"6)7*/2#;%/)$8\\\":5\\\"\\\"$ )(\\\"'#&'#/E#0B*%2)\\\"\\\"6)7*/2#;%/)$8\\\":5\\\"\\\"$ )(\\\"'#&'#&&&#/)$8\\\":<\\\"\\\"! )(\\\"'#&'#\"),\n          peg$decode(\";!.) &;;.# &;&\"),\n          peg$decode(\"%;'/[#%2\\\"\\\"\\\"6\\\"7#.\\\" &\\\"/2#2=\\\"\\\"6=7>/#$+\\\")(\\\"'#&'#.\\\" &\\\"/)$8\\\":?\\\"\\\"! )(\\\"'#&'#\"),\n          peg$decode(\";1. &%9:@  -\\\"\\\"&!&#/1#;)/($8\\\":A\\\"! )(\\\"'#&'#.W &%9:B  -\\\"\\\"&!&#/1#;+/($8\\\":A\\\"! )(\\\"'#&'#./ &;2.) &;,.# &;-\"),\n          peg$decode(\"%%;//2#2\\\"\\\"\\\"6\\\"7#/#$+\\\")(\\\"'#&'#.< &%;3/2#2C\\\"\\\"6C7D/#$+\\\")(\\\"'#&'#/2#;4/)$8\\\":E\\\"\\\"! )(\\\"'#&'#\"),\n          peg$decode(\"%;(/M#2C\\\"\\\"6C7D.) &2\\\"\\\"\\\"6\\\"7#/2$;-/)$8#:F#\\\"\\\" )(#'#(\\\"'#&'#\"),\n          peg$decode(\"%;4/j#%2\\\"\\\"\\\"6\\\"7#/,#;//#$+\\\")(\\\"'#&'#.< &%2C\\\"\\\"6C7D/,#;3/#$+\\\")(\\\"'#&'#/)$8\\\":G\\\"\\\"! )(\\\"'#&'#\"),\n          peg$decode(\"%;4/M#2C\\\"\\\"6C7D.) &2\\\"\\\"\\\"6\\\"7#/2$;,/)$8#:H#\\\"\\\" )(#'#(\\\"'#&'#\"),\n          peg$decode(\"%;//A#2\\\"\\\"\\\"6\\\"7#/2$;-/)$8#:I#\\\"\\\" )(#'#(\\\"'#&'#.K &%;3/A#2C\\\"\\\"6C7D/2$;-/)$8#:I#\\\"\\\" )(#'#(\\\"'#&'#\"),\n          peg$decode(\"%2,\\\"\\\"6,7-.\\\" &\\\"/2#;./)$8\\\":J\\\"\\\"! )(\\\"'#&'#\"),\n          peg$decode(\"%$;6/&#0#*;6&&&#.5 &%<2C\\\"\\\"6C7D=.##&&!&'#/Q#$;80#*;8&.5 &%<2C\\\"\\\"6C7D=.##&&!&'#/)$8\\\":K\\\"\\\"! )(\\\"'#&'#\"),\n          peg$decode(\"%2L\\\"\\\"6L7M/K#%%;6/,#;6/#$+\\\")(\\\"'#&'#/\\\"!&,)/($8\\\":N\\\"! )(\\\"'#&'#\"),\n          peg$decode(\"%2O\\\"\\\"6O7P/K#%%;6/,#;6/#$+\\\")(\\\"'#&'#/\\\"!&,)/($8\\\":Q\\\"! )(\\\"'#&'#\"),\n          peg$decode(\"%$;6/&#0#*;6&&&#/7#2R\\\"\\\"6R7S/($8\\\":T\\\"!!)(\\\"'#&'#.N &%$;=/&#0#*;=&&&#/7#2R\\\"\\\"6R7S/($8\\\":U\\\"!!)(\\\"'#&'#\"),\n          peg$decode(\"%;0/T#$2\\\"\\\"\\\"6\\\"7#/,#0)*2\\\"\\\"\\\"6\\\"7#&&&#/2$;-/)$8#:V#\\\"\\\" )(#'#(\\\"'#&'#\"),\n          peg$decode(\"%;9/2#;8/)$8\\\":W\\\"\\\"! )(\\\"'#&'#.< &%;9/2#;6/)$8\\\":X\\\"\\\"! )(\\\"'#&'#.# &;5\"),\n          peg$decode(\"%;:/2#;8/)$8\\\":W\\\"\\\"! )(\\\"'#&'#.< &%;:/2#;6/)$8\\\":X\\\"\\\"! )(\\\"'#&'#.# &;5\"),\n          peg$decode(\"%;6/' 8!:Y!! ).b &%2Z\\\"\\\"6Z7[/& 8!:\\\\! ).K &%2]\\\"\\\"6]7^/& 8!:\\\\! ).4 &%2_\\\"\\\"6_7`/& 8!:a! )\"),\n          peg$decode(\"4b\\\"\\\"5!7c\"),\n          peg$decode(\"4d\\\"\\\"5!7e\"),\n          peg$decode(\"2Z\\\"\\\"6Z7[.@ &2_\\\"\\\"6_7`.4 &%2]\\\"\\\"6]7^/& 8!:f! )\"),\n          peg$decode(\";8.) &4g\\\"\\\"5!7h\"),\n          peg$decode(\";8.) &4i\\\"\\\"5!7j\"),\n          peg$decode(\"%2k\\\"\\\"6k7l/& 8!:m! )\"),\n          peg$decode(\"%2n\\\"\\\"6n7o/& 8!:p! )\"),\n          peg$decode(\"4q\\\"\\\"5!7r\"),\n          peg$decode(\"2s\\\"\\\"6s7t\"),\n          peg$decode(\"2u\\\"\\\"6u7v\")\n        ],\n\n        peg$currPos          = 0,\n        peg$savedPos         = 0,\n        peg$posDetailsCache  = [{ line: 1, column: 1, seenCR: false }],\n        peg$maxFailPos       = 0,\n        peg$maxFailExpected  = [],\n        peg$silentFails      = 0,\n\n        peg$result;\n\n    if (\"startRule\" in options) {\n      if (!(options.startRule in peg$startRuleIndices)) {\n        throw new Error(\"Can't start parsing from rule \\\"\" + options.startRule + \"\\\".\");\n      }\n\n      peg$startRuleIndex = peg$startRuleIndices[options.startRule];\n    }\n\n    function text() {\n      return input.substring(peg$savedPos, peg$currPos);\n    }\n\n    function location() {\n      return peg$computeLocation(peg$savedPos, peg$currPos);\n    }\n\n    function expected(description) {\n      throw peg$buildException(\n        null,\n        [{ type: \"other\", description: description }],\n        input.substring(peg$savedPos, peg$currPos),\n        peg$computeLocation(peg$savedPos, peg$currPos)\n      );\n    }\n\n    function error(message) {\n      throw peg$buildException(\n        message,\n        null,\n        input.substring(peg$savedPos, peg$currPos),\n        peg$computeLocation(peg$savedPos, peg$currPos)\n      );\n    }\n\n    function peg$computePosDetails(pos) {\n      var details = peg$posDetailsCache[pos],\n          p, ch;\n\n      if (details) {\n        return details;\n      } else {\n        p = pos - 1;\n        while (!peg$posDetailsCache[p]) {\n          p--;\n        }\n\n        details = peg$posDetailsCache[p];\n        details = {\n          line:   details.line,\n          column: details.column,\n          seenCR: details.seenCR\n        };\n\n        while (p < pos) {\n          ch = input.charAt(p);\n          if (ch === \"\\n\") {\n            if (!details.seenCR) { details.line++; }\n            details.column = 1;\n            details.seenCR = false;\n          } else if (ch === \"\\r\" || ch === \"\\u2028\" || ch === \"\\u2029\") {\n            details.line++;\n            details.column = 1;\n            details.seenCR = true;\n          } else {\n            details.column++;\n            details.seenCR = false;\n          }\n\n          p++;\n        }\n\n        peg$posDetailsCache[pos] = details;\n        return details;\n      }\n    }\n\n    function peg$computeLocation(startPos, endPos) {\n      var startPosDetails = peg$computePosDetails(startPos),\n          endPosDetails   = peg$computePosDetails(endPos);\n\n      return {\n        start: {\n          offset: startPos,\n          line:   startPosDetails.line,\n          column: startPosDetails.column\n        },\n        end: {\n          offset: endPos,\n          line:   endPosDetails.line,\n          column: endPosDetails.column\n        }\n      };\n    }\n\n    function peg$fail(expected) {\n      if (peg$currPos < peg$maxFailPos) { return; }\n\n      if (peg$currPos > peg$maxFailPos) {\n        peg$maxFailPos = peg$currPos;\n        peg$maxFailExpected = [];\n      }\n\n      peg$maxFailExpected.push(expected);\n    }\n\n    function peg$buildException(message, expected, found, location) {\n      function cleanupExpected(expected) {\n        var i = 1;\n\n        expected.sort(function(a, b) {\n          if (a.description < b.description) {\n            return -1;\n          } else if (a.description > b.description) {\n            return 1;\n          } else {\n            return 0;\n          }\n        });\n\n        while (i < expected.length) {\n          if (expected[i - 1] === expected[i]) {\n            expected.splice(i, 1);\n          } else {\n            i++;\n          }\n        }\n      }\n\n      function buildMessage(expected, found) {\n        function stringEscape(s) {\n          function hex(ch) { return ch.charCodeAt(0).toString(16).toUpperCase(); }\n\n          return s\n            .replace(/\\\\/g,   '\\\\\\\\')\n            .replace(/\"/g,    '\\\\\"')\n            .replace(/\\x08/g, '\\\\b')\n            .replace(/\\t/g,   '\\\\t')\n            .replace(/\\n/g,   '\\\\n')\n            .replace(/\\f/g,   '\\\\f')\n            .replace(/\\r/g,   '\\\\r')\n            .replace(/[\\x00-\\x07\\x0B\\x0E\\x0F]/g, function(ch) { return '\\\\x0' + hex(ch); })\n            .replace(/[\\x10-\\x1F\\x80-\\xFF]/g,    function(ch) { return '\\\\x'  + hex(ch); })\n            .replace(/[\\u0100-\\u0FFF]/g,         function(ch) { return '\\\\u0' + hex(ch); })\n            .replace(/[\\u1000-\\uFFFF]/g,         function(ch) { return '\\\\u'  + hex(ch); });\n        }\n\n        var expectedDescs = new Array(expected.length),\n            expectedDesc, foundDesc, i;\n\n        for (i = 0; i < expected.length; i++) {\n          expectedDescs[i] = expected[i].description;\n        }\n\n        expectedDesc = expected.length > 1\n          ? expectedDescs.slice(0, -1).join(\", \")\n              + \" or \"\n              + expectedDescs[expected.length - 1]\n          : expectedDescs[0];\n\n        foundDesc = found ? \"\\\"\" + stringEscape(found) + \"\\\"\" : \"end of input\";\n\n        return \"Expected \" + expectedDesc + \" but \" + foundDesc + \" found.\";\n      }\n\n      if (expected !== null) {\n        cleanupExpected(expected);\n      }\n\n      return new peg$SyntaxError(\n        message !== null ? message : buildMessage(expected, found),\n        expected,\n        found,\n        location\n      );\n    }\n\n    function peg$decode(s) {\n      var bc = new Array(s.length), i;\n\n      for (i = 0; i < s.length; i++) {\n        bc[i] = s.charCodeAt(i) - 32;\n      }\n\n      return bc;\n    }\n\n    function peg$parseRule(index) {\n      var bc    = peg$bytecode[index],\n          ip    = 0,\n          ips   = [],\n          end   = bc.length,\n          ends  = [],\n          stack = [],\n          params, i;\n\n      while (true) {\n        while (ip < end) {\n          switch (bc[ip]) {\n            case 0:\n              stack.push(peg$consts[bc[ip + 1]]);\n              ip += 2;\n              break;\n\n            case 1:\n              stack.push(void 0);\n              ip++;\n              break;\n\n            case 2:\n              stack.push(null);\n              ip++;\n              break;\n\n            case 3:\n              stack.push(peg$FAILED);\n              ip++;\n              break;\n\n            case 4:\n              stack.push([]);\n              ip++;\n              break;\n\n            case 5:\n              stack.push(peg$currPos);\n              ip++;\n              break;\n\n            case 6:\n              stack.pop();\n              ip++;\n              break;\n\n            case 7:\n              peg$currPos = stack.pop();\n              ip++;\n              break;\n\n            case 8:\n              stack.length -= bc[ip + 1];\n              ip += 2;\n              break;\n\n            case 9:\n              stack.splice(-2, 1);\n              ip++;\n              break;\n\n            case 10:\n              stack[stack.length - 2].push(stack.pop());\n              ip++;\n              break;\n\n            case 11:\n              stack.push(stack.splice(stack.length - bc[ip + 1], bc[ip + 1]));\n              ip += 2;\n              break;\n\n            case 12:\n              stack.push(input.substring(stack.pop(), peg$currPos));\n              ip++;\n              break;\n\n            case 13:\n              ends.push(end);\n              ips.push(ip + 3 + bc[ip + 1] + bc[ip + 2]);\n\n              if (stack[stack.length - 1]) {\n                end = ip + 3 + bc[ip + 1];\n                ip += 3;\n              } else {\n                end = ip + 3 + bc[ip + 1] + bc[ip + 2];\n                ip += 3 + bc[ip + 1];\n              }\n\n              break;\n\n            case 14:\n              ends.push(end);\n              ips.push(ip + 3 + bc[ip + 1] + bc[ip + 2]);\n\n              if (stack[stack.length - 1] === peg$FAILED) {\n                end = ip + 3 + bc[ip + 1];\n                ip += 3;\n              } else {\n                end = ip + 3 + bc[ip + 1] + bc[ip + 2];\n                ip += 3 + bc[ip + 1];\n              }\n\n              break;\n\n            case 15:\n              ends.push(end);\n              ips.push(ip + 3 + bc[ip + 1] + bc[ip + 2]);\n\n              if (stack[stack.length - 1] !== peg$FAILED) {\n                end = ip + 3 + bc[ip + 1];\n                ip += 3;\n              } else {\n                end = ip + 3 + bc[ip + 1] + bc[ip + 2];\n                ip += 3 + bc[ip + 1];\n              }\n\n              break;\n\n            case 16:\n              if (stack[stack.length - 1] !== peg$FAILED) {\n                ends.push(end);\n                ips.push(ip);\n\n                end = ip + 2 + bc[ip + 1];\n                ip += 2;\n              } else {\n                ip += 2 + bc[ip + 1];\n              }\n\n              break;\n\n            case 17:\n              ends.push(end);\n              ips.push(ip + 3 + bc[ip + 1] + bc[ip + 2]);\n\n              if (input.length > peg$currPos) {\n                end = ip + 3 + bc[ip + 1];\n                ip += 3;\n              } else {\n                end = ip + 3 + bc[ip + 1] + bc[ip + 2];\n                ip += 3 + bc[ip + 1];\n              }\n\n              break;\n\n            case 18:\n              ends.push(end);\n              ips.push(ip + 4 + bc[ip + 2] + bc[ip + 3]);\n\n              if (input.substr(peg$currPos, peg$consts[bc[ip + 1]].length) === peg$consts[bc[ip + 1]]) {\n                end = ip + 4 + bc[ip + 2];\n                ip += 4;\n              } else {\n                end = ip + 4 + bc[ip + 2] + bc[ip + 3];\n                ip += 4 + bc[ip + 2];\n              }\n\n              break;\n\n            case 19:\n              ends.push(end);\n              ips.push(ip + 4 + bc[ip + 2] + bc[ip + 3]);\n\n              if (input.substr(peg$currPos, peg$consts[bc[ip + 1]].length).toLowerCase() === peg$consts[bc[ip + 1]]) {\n                end = ip + 4 + bc[ip + 2];\n                ip += 4;\n              } else {\n                end = ip + 4 + bc[ip + 2] + bc[ip + 3];\n                ip += 4 + bc[ip + 2];\n              }\n\n              break;\n\n            case 20:\n              ends.push(end);\n              ips.push(ip + 4 + bc[ip + 2] + bc[ip + 3]);\n\n              if (peg$consts[bc[ip + 1]].test(input.charAt(peg$currPos))) {\n                end = ip + 4 + bc[ip + 2];\n                ip += 4;\n              } else {\n                end = ip + 4 + bc[ip + 2] + bc[ip + 3];\n                ip += 4 + bc[ip + 2];\n              }\n\n              break;\n\n            case 21:\n              stack.push(input.substr(peg$currPos, bc[ip + 1]));\n              peg$currPos += bc[ip + 1];\n              ip += 2;\n              break;\n\n            case 22:\n              stack.push(peg$consts[bc[ip + 1]]);\n              peg$currPos += peg$consts[bc[ip + 1]].length;\n              ip += 2;\n              break;\n\n            case 23:\n              stack.push(peg$FAILED);\n              if (peg$silentFails === 0) {\n                peg$fail(peg$consts[bc[ip + 1]]);\n              }\n              ip += 2;\n              break;\n\n            case 24:\n              peg$savedPos = stack[stack.length - 1 - bc[ip + 1]];\n              ip += 2;\n              break;\n\n            case 25:\n              peg$savedPos = peg$currPos;\n              ip++;\n              break;\n\n            case 26:\n              params = bc.slice(ip + 4, ip + 4 + bc[ip + 3]);\n              for (i = 0; i < bc[ip + 3]; i++) {\n                params[i] = stack[stack.length - 1 - params[i]];\n              }\n\n              stack.splice(\n                stack.length - bc[ip + 2],\n                bc[ip + 2],\n                peg$consts[bc[ip + 1]].apply(null, params)\n              );\n\n              ip += 4 + bc[ip + 3];\n              break;\n\n            case 27:\n              stack.push(peg$parseRule(bc[ip + 1]));\n              ip += 2;\n              break;\n\n            case 28:\n              peg$silentFails++;\n              ip++;\n              break;\n\n            case 29:\n              peg$silentFails--;\n              ip++;\n              break;\n\n            default:\n              throw new Error(\"Invalid opcode: \" + bc[ip] + \".\");\n          }\n        }\n\n        if (ends.length > 0) {\n          end = ends.pop();\n          ip = ips.pop();\n        } else {\n          break;\n        }\n      }\n\n      return stack[0];\n    }\n\n\n    // Functions\n\n      // Transform roman number to standard number\n      var deromanize = function(str) {\n        str = str.toUpperCase();\n        var  validator = /^M*(?:D?C{0,3}|C[MD])(?:L?X{0,3}|X[CL])(?:V?I{0,3}|I[XV])$/,\n        token = /[MDLV]|C[MD]?|X[CL]?|I[XV]?/g,\n        key = {M:1000, CM:900, D:500, CD:400, C:100, XC:90, L:50, XL:40, X:10, IX:9, V:5, IV:4, I:1},\n        num = 0, m;\n        if (!(str && validator.test(str))) {\n          throw new Error('Invalid roman number');\n        }\n        while (m = token.exec(str)) {\n          num += key[m[0]];\n        }\n        return num;\n      }\n\n      var cal = {\n        1: 31, 2: 29, 3: 31, 4: 30, 5: 31, 6: 30,\n        7: 31, 8: 31, 9: 30, 10: 31, 11: 30, 12: 31\n      }\n\n      var toInt = function(value) {\n        if(/^(\\-|\\+)?([0-9]+)$/.test(value)) return Number(value);\n        return NaN;\n      }\n\n      function validateDate (date) {\n        date = date.replace(/[~\\?y]/g, '').replace(/^-/, '');\n        var parts = date.split('-'), month, day;\n        var year = toInt(parts[0]);\n        if(!toInt(year) && year === 0) {\n          throw new Error('Invalid year');\n        }\n        // yyyy-mm-dd\n        if (parts.length == 3) {\n          month = toInt(parts[1]);\n          day = toInt(parts[2]);\n          // yyyy-mm\n        } else if (parts.length == 2){\n          month = toInt(parts[1]);\n        }\n        if (parts.length > 1 && day != null && !isNaN(day) && !isNaN(month)) {\n          // day and month are defined and integers\n          if (cal[month] == null) throw new Error('Invalid month');\n          if (cal[month] < day || day < 1) throw new Error('Invalid day');\n          // day and month are defined\n        } else if (day != null) {\n          if (!isNaN(month) && (month === 0 || month > 12)) throw new Error('Invalid month');\n          if (!isNaN(day) && (day === 0 || day > 31)) throw new Error('Invalid day');\n          // seasons\n        } else if (month != null){\n          if (!isNaN(month) && !((month > 0 && month < 13) || (month > 20 && month < 25))) throw new Error('Invalid month');\n        }\n      }\n\n\n    peg$result = peg$parseRule(peg$startRuleIndex);\n\n    if (peg$result !== peg$FAILED && peg$currPos === input.length) {\n      return peg$result;\n    } else {\n      if (peg$result !== peg$FAILED && peg$currPos < input.length) {\n        peg$fail({ type: \"end\", description: \"end of input\" });\n      }\n\n      throw peg$buildException(\n        null,\n        peg$maxFailExpected,\n        peg$maxFailPos < input.length ? input.charAt(peg$maxFailPos) : null,\n        peg$maxFailPos < input.length\n          ? peg$computeLocation(peg$maxFailPos, peg$maxFailPos + 1)\n          : peg$computeLocation(peg$maxFailPos, peg$maxFailPos)\n      );\n    }\n  }\n\n  return {\n    SyntaxError: peg$SyntaxError,\n    parse:       peg$parse\n  };\n})();\n},{}]},{},[1])(1)\n});"],"sourceRoot":"/source/"}